{"ast":null,"code":"import _regeneratorRuntime from\"/home/dci/Desktop/BackendClass/BlogWebsite/Frontend/blog/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/dci/Desktop/BackendClass/BlogWebsite/Frontend/blog/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/dci/Desktop/BackendClass/BlogWebsite/Frontend/blog/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{BrowserRouter as Router,Switch,Route}from'react-router-dom';// import components\nimport{NavigationBar}from'./components/NavigationBar';import Post from'./components/Post';import AddPost from'./components/AddPost';import PostList from'./components/PostList';import EditPost from'./components/EditPost';import{LogIn}from'./components/LogIn';import{SignUp}from'./components/SignUp';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var axios=require('axios').default;var App=function App(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];useEffect(function(){sendGetRequest();},[]);var sendGetRequest=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:try{axios.get('http://localhost:3001/posts').then(function(resp){return setPosts(resp.data);});}catch(error){console.log(error);}case 1:case\"end\":return _context.stop();}}},_callee);}));return function sendGetRequest(){return _ref.apply(this,arguments);};}();var addPost=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(post){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:try{axios.post('http://localhost:3001/posts',{\"title\":post.title,\"content\":post.content}).then(function(){return sendGetRequest();});}catch(error){console.log(error);}case 1:case\"end\":return _context2.stop();}}},_callee2);}));return function addPost(_x){return _ref2.apply(this,arguments);};}();var deletePost=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:console.log(id);try{axios.delete(\"http://localhost:3001/posts/\".concat(id)).then(function(){return sendGetRequest();});}catch(error){}case 2:case\"end\":return _context3.stop();}}},_callee3);}));return function deletePost(_x2){return _ref3.apply(this,arguments);};}();var updatePost=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(post){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:console.log(post._id);try{axios.put(\"http://localhost:3001/posts/\".concat(post._id),{\"title\":post.title,\"content\":post.content}).then(function(){return sendGetRequest();});}catch(error){}case 2:case\"end\":return _context4.stop();}}},_callee4);}));return function updatePost(_x3){return _ref4.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsx(NavigationBar,{}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",children:/*#__PURE__*/_jsx(PostList,{posts:posts,deletePost:deletePost})}),/*#__PURE__*/_jsx(Route,{path:\"/post/:id\",children:/*#__PURE__*/_jsx(Post,{posts:posts})}),/*#__PURE__*/_jsx(Route,{path:\"/new\",children:/*#__PURE__*/_jsx(AddPost,{addPost:addPost,post:{title:'',content:''}})}),/*#__PURE__*/_jsx(Route,{path:\"/signin\",children:/*#__PURE__*/_jsx(LogIn,{})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",children:/*#__PURE__*/_jsx(SignUp,{})}),/*#__PURE__*/_jsx(Route,{path:\"/edit\",children:/*#__PURE__*/_jsx(EditPost,{posts:posts,updatePost:updatePost})})]})]})});};export default App;","map":{"version":3,"sources":["/home/dci/Desktop/BackendClass/BlogWebsite/Frontend/blog/src/App.js"],"names":["React","useState","useEffect","BrowserRouter","Router","Switch","Route","NavigationBar","Post","AddPost","PostList","EditPost","LogIn","SignUp","axios","require","default","App","props","posts","setPosts","sendGetRequest","get","then","resp","data","error","console","log","addPost","post","title","content","deletePost","id","delete","updatePost","_id","put"],"mappings":"8ZAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,aAAa,GAAIC,CAAAA,MAA1B,CAAkCC,MAAlC,CAA0CC,KAA1C,KAAuD,kBAAvD,CAGA;AACA,OAASC,aAAT,KAA8B,4BAA9B,CACA,MAAOC,CAAAA,IAAP,KAAiB,mBAAjB,CACA,MAAOC,CAAAA,OAAP,KAAoB,sBAApB,CACA,MAAOC,CAAAA,QAAP,KAAqB,uBAArB,CACA,MAAOC,CAAAA,QAAP,KAAqB,uBAArB,CACA,OAASC,KAAT,KAAsB,oBAAtB,CACA,OAASC,MAAT,KAAuB,qBAAvB,C,wFAGA,GAAMC,CAAAA,KAAK,CAAGC,OAAO,CAAC,OAAD,CAAP,CAAiBC,OAA/B,CAGA,GAAMC,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,CAACC,KAAD,CAAW,CAEnB,cAA0BjB,QAAQ,CAAC,EAAD,CAAlC,wCAAOkB,KAAP,eAAcC,QAAd,eAEAlB,SAAS,CAAC,UAAM,CACZmB,cAAc,GACjB,CAFQ,CAEN,EAFM,CAAT,CAIA,GAAMA,CAAAA,cAAc,0FAAG,mIACnB,GAAI,CACAP,KAAK,CAACQ,GAAN,CAAU,6BAAV,EAAyCC,IAAzC,CAA8C,SAAAC,IAAI,QAAIJ,CAAAA,QAAQ,CAACI,IAAI,CAACC,IAAN,CAAZ,EAAlD,EACH,CAAC,MAAOC,KAAP,CAAc,CACZC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACH,CALkB,sDAAH,kBAAdL,CAAAA,cAAc,0CAApB,CAQA,GAAMQ,CAAAA,OAAO,2FAAG,kBAAOC,IAAP,sHACZ,GAAI,CACAhB,KAAK,CAACgB,IAAN,CAAW,6BAAX,CAA0C,CAAE,QAASA,IAAI,CAACC,KAAhB,CAAuB,UAAWD,IAAI,CAACE,OAAvC,CAA1C,EAA4FT,IAA5F,CAAiG,iBAAMF,CAAAA,cAAc,EAApB,EAAjG,EACH,CAAC,MAAOK,KAAP,CAAc,CACZC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACH,CALW,wDAAH,kBAAPG,CAAAA,OAAO,6CAAb,CAQA,GAAMI,CAAAA,UAAU,2FAAG,kBAAOC,EAAP,sHACfP,OAAO,CAACC,GAAR,CAAYM,EAAZ,EACA,GAAI,CACApB,KAAK,CAACqB,MAAN,uCAA4CD,EAA5C,GAAkDX,IAAlD,CAAuD,iBAAMF,CAAAA,cAAc,EAApB,EAAvD,EACH,CAAC,MAAOK,KAAP,CAAc,CACf,CALc,wDAAH,kBAAVO,CAAAA,UAAU,8CAAhB,CAQA,GAAMG,CAAAA,UAAU,2FAAG,kBAAON,IAAP,sHACfH,OAAO,CAACC,GAAR,CAAYE,IAAI,CAACO,GAAjB,EACA,GAAI,CACAvB,KAAK,CAACwB,GAAN,uCAAyCR,IAAI,CAACO,GAA9C,EAAqD,CAAE,QAASP,IAAI,CAACC,KAAhB,CAAuB,UAAWD,IAAI,CAACE,OAAvC,CAArD,EAAuGT,IAAvG,CAA4G,iBAAMF,CAAAA,cAAc,EAApB,EAA5G,EACH,CAAC,MAAOK,KAAP,CAAc,CAEf,CANc,wDAAH,kBAAVU,CAAAA,UAAU,8CAAhB,CASA,mBACI,kCACI,MAAC,MAAD,yBACI,KAAC,aAAD,IADJ,cAGI,MAAC,MAAD,yBACI,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,GAAlB,uBACI,KAAC,QAAD,EAAU,KAAK,CAAEjB,KAAjB,CAAwB,UAAU,CAAEc,UAApC,EADJ,EADJ,cAII,KAAC,KAAD,EAAO,IAAI,CAAC,WAAZ,uBACI,KAAC,IAAD,EAAM,KAAK,CAAEd,KAAb,EADJ,EAJJ,cAOI,KAAC,KAAD,EAAO,IAAI,CAAC,MAAZ,uBACI,KAAC,OAAD,EAAS,OAAO,CAAEU,OAAlB,CAA2B,IAAI,CAAE,CAAEE,KAAK,CAAE,EAAT,CAAaC,OAAO,CAAE,EAAtB,CAAjC,EADJ,EAPJ,cAUI,KAAC,KAAD,EAAO,IAAI,CAAC,SAAZ,uBACI,KAAC,KAAD,IADJ,EAVJ,cAaI,KAAC,KAAD,EAAO,IAAI,CAAC,SAAZ,uBACI,KAAC,MAAD,IADJ,EAbJ,cAgBI,KAAC,KAAD,EAAO,IAAI,CAAC,OAAZ,uBACI,KAAC,QAAD,EAAU,KAAK,CAAEb,KAAjB,CAAwB,UAAU,CAAEiB,UAApC,EADJ,EAhBJ,GAHJ,GADJ,EADJ,CA4BH,CArED,CAuEA,cAAenB,CAAAA,GAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\n\n\n// import components\nimport { NavigationBar } from './components/NavigationBar';\nimport Post from './components/Post';\nimport AddPost from './components/AddPost';\nimport PostList from './components/PostList';\nimport EditPost from './components/EditPost';\nimport { LogIn } from './components/LogIn';\nimport { SignUp } from './components/SignUp';\n\n\nconst axios = require('axios').default;\n\n\nconst App = (props) => {\n\n    const [posts, setPosts] = useState([]);\n\n    useEffect(() => {\n        sendGetRequest();\n    }, []);\n\n    const sendGetRequest = async () => {\n        try {\n            axios.get('http://localhost:3001/posts').then(resp => setPosts(resp.data))\n        } catch (error) {\n            console.log(error);\n        }\n    };\n\n    const addPost = async (post) => {\n        try {\n            axios.post('http://localhost:3001/posts', { \"title\": post.title, \"content\": post.content }).then(() => sendGetRequest())\n        } catch (error) {\n            console.log(error);\n        }\n    }\n\n    const deletePost = async (id) => {\n        console.log(id);\n        try {\n            axios.delete(`http://localhost:3001/posts/${id}`).then(() => sendGetRequest())\n        } catch (error) {\n        }\n    }\n\n    const updatePost = async (post) => {\n        console.log(post._id)\n        try {\n            axios.put(`http://localhost:3001/posts/${post._id}`, { \"title\": post.title, \"content\": post.content }).then(() => sendGetRequest())\n        } catch (error) {\n\n        }\n    }\n\n    return (\n        <div>\n            <Router>\n                <NavigationBar />\n                {/* <h2>Hello { localStorage.getItem('user')}</h2> */}\n                <Switch>\n                    <Route exact path='/'>\n                        <PostList posts={posts} deletePost={deletePost} />\n                    </Route>\n                    <Route path='/post/:id'>\n                        <Post posts={posts} />\n                    </Route>\n                    <Route path='/new'>\n                        <AddPost addPost={addPost} post={{ title: '', content: '' }} />\n                    </Route>\n                    <Route path='/signin'>\n                        <LogIn />\n                    </Route>\n                    <Route path='/signup'>\n                        <SignUp />\n                    </Route>\n                    <Route path='/edit' >\n                        <EditPost posts={posts} updatePost={updatePost} />\n                    </Route>\n                </Switch>\n            </Router>\n        </div>\n    )\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}