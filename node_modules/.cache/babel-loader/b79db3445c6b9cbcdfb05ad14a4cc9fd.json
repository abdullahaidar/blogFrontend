{"ast":null,"code":"import _objectSpread from\"/home/dci/Desktop/BackendClass/BlogWebsite/Frontend/blog/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/dci/Desktop/BackendClass/BlogWebsite/Frontend/blog/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{useParams}from\"react-router-dom\";import{useHistory}from'react-router-dom';import{Container,Form,Button}from'react-bootstrap';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditPost=function EditPost(props){var _useState=useState({\"title\":'',\"content\":''}),_useState2=_slicedToArray(_useState,2),post=_useState2[0],setPost=_useState2[1];var history=useHistory();// find the id from the url\nconsole.log(props);//console.log(props.posts);\n// console.log(props.posts[0].id)\n// let id = props.posts[props.posts.length - 1];\n// console.log(id)\n// get the id from the url\nvar urlPath=window.location.pathname.split('/');var id=urlPath[urlPath.length-1];console.log(id);useEffect(function(){//console.log('this works')\nvar findPost=props.posts.find(function(post){return post._id==id;});setPost(findPost);},[]);var updateHandel=function updateHandel(){props.updatePost(post);history.push('/');};return/*#__PURE__*/_jsx(Container,{className:\"container\",children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsx(Form.Label,{className:\"label\",children:\"Title\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Add a title\",id:\"title\",defaultValue:post.title,onChange:function onChange(event){return setPost(_objectSpread(_objectSpread({},post),{},{title:event.target.value}));}}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"exampleForm.ControlTextarea1\",children:[/*#__PURE__*/_jsx(Form.Label,{className:\"label\",children:\"Content\"}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",rows:10,id:\"textarea\",defaultValue:post.content,onChange:function onChange(event){return setPost(_objectSpread(_objectSpread({},post),{},{content:event.target.value}));}})]}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return updateHandel();},className:\"mt-3\",children:\"Update\"})]})});};export default EditPost;","map":{"version":3,"sources":["/home/dci/Desktop/BackendClass/BlogWebsite/Frontend/blog/src/components/EditPost.js"],"names":["React","useState","useEffect","useParams","useHistory","Container","Form","Button","EditPost","props","post","setPost","history","console","log","urlPath","window","location","pathname","split","id","length","findPost","posts","find","_id","updateHandel","updatePost","push","title","event","target","value","content"],"mappings":"qRAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,OAASC,UAAT,KAA2B,kBAA3B,CAEA,OAASC,SAAT,CAAoBC,IAApB,CAA0BC,MAA1B,KAAwC,iBAAxC,C,wFAGA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,KAAD,CAAW,CAExB,cAAwBR,QAAQ,CAAC,CAAE,QAAS,EAAX,CAAe,UAAW,EAA1B,CAAD,CAAhC,wCAAOS,IAAP,eAAaC,OAAb,eACC,GAAIC,CAAAA,OAAO,CAAGR,UAAU,EAAxB,CACD;AACAS,OAAO,CAACC,GAAR,CAAYL,KAAZ,EAEA;AACA;AACA;AACA;AAEA;AACA,GAAMM,CAAAA,OAAO,CAAGC,MAAM,CAACC,QAAP,CAAgBC,QAAhB,CAAyBC,KAAzB,CAA+B,GAA/B,CAAhB,CACA,GAAIC,CAAAA,EAAE,CAAGL,OAAO,CAACA,OAAO,CAACM,MAAR,CAAiB,CAAlB,CAAhB,CACAR,OAAO,CAACC,GAAR,CAAYM,EAAZ,EAEAlB,SAAS,CAAC,UAAM,CACZ;AACA,GAAMoB,CAAAA,QAAQ,CAAGb,KAAK,CAACc,KAAN,CAAYC,IAAZ,CAAiB,SAAAd,IAAI,QAAIA,CAAAA,IAAI,CAACe,GAAL,EAAYL,EAAhB,EAArB,CAAjB,CACAT,OAAO,CAACW,QAAD,CAAP,CACH,CAJQ,CAIN,EAJM,CAAT,CAMA,GAAMI,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACvBjB,KAAK,CAACkB,UAAN,CAAiBjB,IAAjB,EACCE,OAAO,CAACgB,IAAR,CAAa,GAAb,EACJ,CAHD,CAKA,mBAEI,KAAC,SAAD,EAAW,SAAS,CAAC,WAArB,uBACI,MAAC,IAAD,yBACI,KAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,OAAtB,mBADJ,cAEI,KAAC,IAAD,CAAM,OAAN,EAAc,IAAI,CAAC,MAAnB,CAA0B,WAAW,CAAC,aAAtC,CAAoD,EAAE,CAAC,OAAvD,CACI,YAAY,CAAElB,IAAI,CAACmB,KADvB,CAEI,QAAQ,CAAE,kBAACC,KAAD,QAAWnB,CAAAA,OAAO,gCAAMD,IAAN,MAAYmB,KAAK,CAAEC,KAAK,CAACC,MAAN,CAAaC,KAAhC,GAAlB,EAFd,EAFJ,cAKI,MAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,8BAAtB,wBACI,KAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,OAAtB,qBADJ,cAEI,KAAC,IAAD,CAAM,OAAN,EAAc,EAAE,CAAC,UAAjB,CAA4B,IAAI,CAAE,EAAlC,CAAsC,EAAE,CAAC,UAAzC,CACI,YAAY,CAAEtB,IAAI,CAACuB,OADvB,CAEI,QAAQ,CAAE,kBAACH,KAAD,QAAWnB,CAAAA,OAAO,gCAAMD,IAAN,MAAYuB,OAAO,CAAEH,KAAK,CAACC,MAAN,CAAaC,KAAlC,GAAlB,EAFd,EAFJ,GALJ,cAWI,KAAC,MAAD,EAAQ,OAAO,CAAE,yBAAMN,CAAAA,YAAY,EAAlB,EAAjB,CAAuC,SAAS,CAAC,MAAjD,oBAXJ,GADJ,EAFJ,CAkBH,CA9CD,CAgDA,cAAelB,CAAAA,QAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams } from \"react-router-dom\";\nimport { useHistory } from 'react-router-dom';\n\nimport { Container, Form, Button } from 'react-bootstrap'\n\n\nconst EditPost = (props) => {\n\n    const [post, setPost] = useState({ \"title\": '', \"content\": '' })\n     let history = useHistory()\n    // find the id from the url\n    console.log(props);\n\n    //console.log(props.posts);\n    // console.log(props.posts[0].id)\n    // let id = props.posts[props.posts.length - 1];\n    // console.log(id)\n\n    // get the id from the url\n    const urlPath = window.location.pathname.split('/');\n    let id = urlPath[urlPath.length - 1];\n    console.log(id)\n\n    useEffect(() => {\n        //console.log('this works')\n        const findPost = props.posts.find(post => post._id == id);\n        setPost(findPost)\n    }, [])\n\n    const updateHandel = () => {\n        props.updatePost(post);\n         history.push('/');\n    }\n\n    return (\n\n        <Container className=\"container\">\n            <Form>\n                <Form.Label className=\"label\">Title</Form.Label>\n                <Form.Control type=\"text\" placeholder=\"Add a title\" id=\"title\"\n                    defaultValue={post.title}\n                    onChange={(event) => setPost({ ...post, title: event.target.value })} />\n                <Form.Group controlId=\"exampleForm.ControlTextarea1\">\n                    <Form.Label className=\"label\">Content</Form.Label>\n                    <Form.Control as=\"textarea\" rows={10} id=\"textarea\"\n                        defaultValue={post.content}\n                        onChange={(event) => setPost({ ...post, content: event.target.value })} />\n                </Form.Group>\n                <Button onClick={() => updateHandel()} className='mt-3'>Update</Button>\n            </Form>\n        </Container>\n    )\n}\n\nexport default EditPost;\n"]},"metadata":{},"sourceType":"module"}